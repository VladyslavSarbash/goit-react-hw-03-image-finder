{"version":3,"sources":["components/API/API.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js"],"names":["MY_KEY","BASE_URL","FetchAPI","searchInput","page","fetch","then","response","json","SearchBar","state","formSubmit","e","preventDefault","data","props","onSubmit","arrayImg","hits","finally","setState","inputForm","target","value","this","className","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","map","i","src","webformatURL","alt","tags","largeImageURL","id","ImageGallery","openModal","onClick","ButtonLoadMore","loader","loadMoreBtn","loadMore","color","height","width","timeout","modalRoot","document","querySelector","Modal","closeModalEsc","code","onClose","closeModalOverlay","nodeName","window","addEventListener","removeEventListener","createPortal","children","App","modalImg","showModal","moreImg","toggleModal","dataset","large","prevProps","prevState","length","scrollTo","top","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4c9e2180.chunk.js","sourcesContent":["const MY_KEY = '23120149-b9b49e6d85d17734323f46136';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\nexport default function FetchAPI(searchInput, page = 1) {\r\n  return fetch(\r\n    `${BASE_URL}?q=${searchInput}&page=${page}&key=${MY_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => response.json());\r\n}\r\n","import React, { Component } from 'react';\r\nimport FetchAPI from '../API/API';\r\n\r\nexport default class SearchBar extends Component {\r\n  state = {\r\n    searchInput: '',\r\n  };\r\n\r\n  formSubmit = e => {\r\n    e.preventDefault();\r\n    const { searchInput } = this.state;\r\n\r\n    FetchAPI(searchInput)\r\n      .then(data =>\r\n        this.props.onSubmit({\r\n          arrayImg: data.hits,\r\n          searchInput: searchInput,\r\n        }),\r\n      )\r\n      .finally(this.setState({ searchInput: '' }));\r\n  };\r\n\r\n  inputForm = ({ target }) => {\r\n    this.setState({\r\n      searchInput: target.value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { searchInput } = this.state;\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.formSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            value={searchInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.inputForm}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","export default function ImageGalleryItem({ arrayImg }) {\r\n  const markup = arrayImg.map(i => {\r\n    return (\r\n      <li className=\"ImageGalleryItem\" key={i.id}>\r\n        <img\r\n          src={i.webformatURL}\r\n          alt={i.tags}\r\n          className=\"ImageGalleryItem-image\"\r\n          data-large={i.largeImageURL}\r\n        />\r\n      </li>\r\n    );\r\n  });\r\n  return markup;\r\n}\r\n","import React, { Component } from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nexport default class ImageGallery extends Component {\r\n  render() {\r\n    const { arrayImg, openModal } = this.props;\r\n\r\n    return (\r\n      <ul className=\"ImageGallery\" onClick={openModal}>\r\n        <ImageGalleryItem arrayImg={arrayImg} />\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport FetchAPI from '../API/API';\r\nimport LoaderCircle from '../Loader/Loader';\r\n\r\nexport default class ButtonLoadMore extends Component {\r\n  state = {\r\n    page: 1,\r\n    loader: false,\r\n  };\r\n\r\n  loadMoreBtn = () => {\r\n    const { searchInput, loadMore } = this.props;\r\n    const { page } = this.state;\r\n\r\n    this.setState(({ loader }) => ({\r\n      loader: !loader,\r\n    }));\r\n\r\n    FetchAPI(searchInput, page + 1)\r\n      .then(data => loadMore(data.hits))\r\n      .then(\r\n        this.setState({\r\n          page: page + 1,\r\n        }),\r\n      )\r\n      .finally(\r\n        this.setState(({ loader }) => ({\r\n          loader: !loader,\r\n        })),\r\n      );\r\n  };\r\n\r\n  render() {\r\n    const { loader } = this.state;\r\n    if (loader) {\r\n      return LoaderCircle();\r\n    }\r\n\r\n    if (!loader) {\r\n      return (\r\n        <div className=\"Btn_load-more\">\r\n          <button className=\"Button\" type=\"button\" onClick={this.loadMoreBtn}>\r\n            Load more\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import Loader from 'react-loader-spinner';\r\n\r\nexport default function LoaderCircle() {\r\n  return (\r\n    <div className=\"Loader\">\r\n      <Loader\r\n        type=\"TailSpin\"\r\n        color=\"#00BFFF\"\r\n        height={50}\r\n        width={50}\r\n        timeout={3000}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.closeModalEsc);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.closeModalEsc);\r\n  }\r\n\r\n  closeModalEsc = ({ code }) => {\r\n    if (code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  closeModalOverlay = ({ target }) => {\r\n    if (target.nodeName !== 'IMG') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.closeModalOverlay}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport SearchBar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport ButtonLoadMore from './components/Button/Button';\r\nimport Modal from './components/Modal/Modal';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    arrayImg: [],\r\n    modalImg: '',\r\n    showModal: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { length } = prevState.arrayImg;\r\n    const { arrayImg } = this.state;\r\n\r\n    if (length !== arrayImg.length) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  onSubmit = ({ arrayImg, searchInput }) => {\r\n    this.setState({\r\n      arrayImg: arrayImg,\r\n      searchInput: searchInput,\r\n    });\r\n  };\r\n\r\n  loadMore = moreImg => {\r\n    const { arrayImg } = this.state;\r\n    this.setState({\r\n      arrayImg: [...arrayImg, ...moreImg],\r\n    });\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  openModal = e => {\r\n    const { dataset, nodeName } = e.target;\r\n\r\n    if (nodeName === 'IMG') {\r\n      this.setState(({ showModal }) => ({\r\n        modalImg: dataset.large,\r\n        showModal: !showModal,\r\n      }));\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { arrayImg, searchInput, showModal, modalImg } = this.state;\r\n\r\n    return (\r\n      <>\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={modalImg} alt=\"\" />\r\n          </Modal>\r\n        )}\r\n        <SearchBar onSubmit={this.onSubmit} />\r\n        <ImageGallery arrayImg={arrayImg} openModal={this.openModal} />\r\n        {arrayImg.length !== 0 && (\r\n          <ButtonLoadMore searchInput={searchInput} loadMore={this.loadMore} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}