(this["webpackJsonpreact-config-hw"]=this["webpackJsonpreact-config-hw"]||[]).push([[0],{16:function(t,e,a){},17:function(t,e,a){},39:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),o=a(7),c=a.n(o),s=(a(15),a(16),a(9)),l=a(3),i=a(4),u=a(6),h=a(5),d=(a(17),"23120149-b9b49e6d85d17734323f46136"),m="https://pixabay.com/api/";function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("".concat(m,"?q=").concat(t,"&page=").concat(e,"&key=").concat(d,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.json()}))}var j=a(0),b=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={searchInput:""},t.formSubmit=function(e){e.preventDefault();var a=t.state.searchInput;p(a).then((function(e){return t.props.onSubmit({arrayImg:e.hits,searchInput:a})})).finally(t.setState({searchInput:""}))},t.inputForm=function(e){var a=e.target;t.setState({searchInput:a.value})},t}return Object(i.a)(a,[{key:"render",value:function(){var t=this.state.searchInput;return Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{className:"SearchForm",onSubmit:this.formSubmit,children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(j.jsx)("input",{className:"SearchForm-input",value:t,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.inputForm})]})})}}]),a}(n.Component);function f(t){return t.arrayImg.map((function(t){return Object(j.jsx)("li",{className:"ImageGalleryItem",children:Object(j.jsx)("img",{src:t.webformatURL,alt:t.tags,className:"ImageGalleryItem-image","data-large":t.largeImageURL})},t.id)}))}var g=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var t=this.props,e=t.arrayImg,a=t.openModal;return Object(j.jsx)("ul",{className:"ImageGallery",onClick:a,children:Object(j.jsx)(f,{arrayImg:e})})}}]),a}(n.Component),v=a(10),y=a.n(v);var O=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={page:1,loader:!1},t.loadMoreBtn=function(){var e=t.props,a=e.searchInput,n=e.loadMore,r=t.state.page;t.setState((function(t){return{loader:!t.loader}})),p(a,r+1).then((function(t){return n(t.hits)})).then(t.setState({page:r+1})).finally(t.setState((function(t){return{loader:!t.loader}})))},t}return Object(i.a)(a,[{key:"render",value:function(){var t=this.state.loader;return t?Object(j.jsx)("div",{className:"Loader",children:Object(j.jsx)(y.a,{type:"TailSpin",color:"#00BFFF",height:50,width:50,timeout:3e3})}):t?void 0:Object(j.jsx)("div",{className:"Btn_load-more",children:Object(j.jsx)("button",{className:"Button",type:"button",onClick:this.loadMoreBtn,children:"Load more"})})}}]),a}(n.Component),I=document.querySelector("#modal-root"),M=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).closeModalEsc=function(e){"Escape"===e.code&&t.props.onClose()},t.closeModalOverlay=function(e){"IMG"!==e.target.nodeName&&t.props.onClose()},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.closeModalEsc)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closeModalEsc)}},{key:"render",value:function(){return Object(o.createPortal)(Object(j.jsx)("div",{className:"Overlay",onClick:this.closeModalOverlay,children:Object(j.jsx)("div",{className:"Modal",children:this.props.children})}),I)}}]),a}(n.Component),S=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={arrayImg:[],modalImg:"",showModal:!1},t.onSubmit=function(e){var a=e.arrayImg,n=e.searchInput;t.setState({arrayImg:a,searchInput:n})},t.loadMore=function(e){var a=t.state.arrayImg;t.setState({arrayImg:[].concat(Object(s.a)(a),Object(s.a)(e))})},t.toggleModal=function(){t.setState((function(t){return{showModal:!t.showModal}}))},t.openModal=function(e){var a=e.target,n=a.dataset;"IMG"===a.nodeName&&t.setState((function(t){var e=t.showModal;return{modalImg:n.large,showModal:!e}}))},t}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(t,e){e.arrayImg.length!==this.state.arrayImg.length&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var t=this.state,e=t.arrayImg,a=t.searchInput,n=t.showModal,r=t.modalImg;return Object(j.jsxs)(j.Fragment,{children:[n&&Object(j.jsx)(M,{onClose:this.toggleModal,children:Object(j.jsx)("img",{src:r,alt:""})}),Object(j.jsx)(b,{onSubmit:this.onSubmit}),Object(j.jsx)(g,{arrayImg:e,openModal:this.openModal}),0!==e.length&&Object(j.jsx)(O,{searchInput:a,loadMore:this.loadMore})]})}}]),a}(n.Component),x=S;c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.4c9e2180.chunk.js.map